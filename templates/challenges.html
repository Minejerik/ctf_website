{% extends 'base.html' %}

{% block title %}
Challenges
{% endblock %}


{% block content %}
<br><br>
<div class="container">
    <h1>Challenges</h1>
    <br>
    {# TODO: RE-ENABLE THIS BEFORE RUNNING !!! #}
    {# {% if not started or ended %}
        <h1 class="py-5 display-1">CTF has not started yet</h1>
    {% else %} #}
    {% if challenges|length < 1 %}
        <h1 class="py-5 display-1">No challenges available</h1>
    {% else %}
        {% for category in categories %}
            <div>
                <h3>{{category.name}}</h3>
                <br>
                {% set chals = category.challenges | sort(attribute='id') %}
                <div class="row">
                    {% for challenge in chals %}
                        {% if not challenge.hidden %}
                            <div class="col-sm-3" style="margin-bottom: 10px;">
                                {# {{challenge.name}} #}
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">{{challenge.name}}</h5>
                                        <p class="card-text">{{challenge.desc}}</p>
                                        <a href="/challenge/{{challenge.pub_id}}" class="stretched-link">Challenge page</a>
                                    </div>
                                    <div class="card-footer text-body-secondary">
                                        {{challenge.points}} Points - {{challenge.solve_count}} Solves
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
            <br>
        {% endfor %}
    {% endif %}
    {# {% endif %} #}
{% endblock %}